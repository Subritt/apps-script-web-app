<script>

   var user_id = localStorage.getItem("userid");
   console.log("userid : " + user_id);
   
   /*
   success handler function to get questions for respective user
   */
   function get_questions(questions){
     questions.forEach(function(r){
       addRow(r);
     });
   }
    
    document.addEventListener("DOMContentLoaded", function(){
      google.script.run.withSuccessHandler(get_questions).get_questions(user_id);
    });
    
    function addRow(val) {
      const div = document.createElement('div');

      div.className = 'row';
      div.innerHTML =     '<div class="divider"></div>'
                               + '<div class="section">'
                               + '<h5>' + val[1] +'</h5>'
                               + '<p>' + val[2] +'</p>'
                               + '</div>'
                               + '<div class="divider"></div>';

     document.getElementById('wrapper').appendChild(div);
   }
   
   /*
   function to logout
   */
   document.getElementById('logout_btn').addEventListener('click', function(){
     M.toast({html : "Logging out...üê±‚Äçüèç"});
     localStorage.removeItem('questions');
     google.script.run.withSuccessHandler(
       function(url){
         window.open(url, "_top");
       }
     ).web_app_url();
   });
    
</script>