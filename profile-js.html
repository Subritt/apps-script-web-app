<script>

   var user_id = sessionStorage.getItem("userid");
   console.log("userid : " + user_id);
   
   /*
   success handler function to get questions for respective user
   */
   function get_questions(questions){
     questions.forEach(function(r){
       addRow(r);
     });
   }
    
    document.addEventListener("DOMContentLoaded", function(){
      active_user()
      google.script.run.withSuccessHandler(get_questions).get_questions(user_id);
    });
    
    /*
    function to add questions to html page
    */
    function addRow(val) {
      const div = document.createElement('div');

      div.className = 'row';

     div.innerHTML = `
       <div class="divider"></div>
       <div class="section">
       <a onclick='answer_page()' id="${val[0]}" class="question">${val[1]}</a>
       <p class="right">asked by: <span id="username">${val[6]}</span></p>
       </div>
       <div class="divider col s12"></div>
     `;

     document.getElementById('wrapper').appendChild(div);
   }
   
   /*
   function to show active user in nav bar
   */
   function active_user(){
     var div_main = document.getElementById('profile_nav_bar');
     var full_name = sessionStorage.getItem("fullname");
     div_main.innerHTML += '<div id="name_chip" class="chip right" style="margin:10px">' + '<b style="font-size:14px">' + full_name + '</b>' + '</div>';
     return;
   }   
   
</script>